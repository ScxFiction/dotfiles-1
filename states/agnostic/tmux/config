# source /usr/share/powerline/bindings/tmux/powerline.conf

set -g prefix C-a
unbind C-b

set -sg escape-time 0
set -g base-index 1
set -g pane-base-index 1
set -g renumber-windows on

bind Up split-window -b -v
bind Down split-window -v
bind Left split-window -b -h
bind Right split-window -h

bind-key r source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded"

set -g focus-events on

set -g default-terminal screen-256color
set-window-option -g xterm-keys on

bind -n S-Left  previous-window
bind -n S-Right next-window

set -g pane-border-fg black
set -g pane-active-border-fg brightblue
set -g display-panes-colour brightblue
set -g display-panes-active-colour brightblue

set -g status-justify right
set -g status-bg black
set -g status-fg default
set -g message-fg black
set -g message-bg brightwhite

set -g status-interval 3
set -g status-position bottom
set -g window-status-separator ''

set -g window-status-current-format '#[fg=green,bg=black]ÓÇ≤#[fg=brightwhite,bg=green] #I #[fg=black,bg=green]ÓÇ≤#[fg=green,bg=black] #W '
set -g window-status-format '#[fg=brightblack]ÓÇ≤#[fg=black,bg=brightblack] #{?window_activity_flag,#[bg=brightred],#[fg=white]}#I #[fg=black,bg=brightblack]ÓÇ≤#[fg=brightblack,bg=black] #W '

set -g status-left-length 255
set -g status-left "#{prefix_highlight}"
set -g -a status-left "#[bg=black,fg=brightwhite] #S "
set -g -a status-left "#[fg=black,bg=brightwhite]ÓÇ∞#[fg=brightblack] "
set -g -a status-left "#I.#P#F "
set -g -a status-left "#[fg=brightwhite,bg=blue]ÓÇ∞#[fg=black] "
set -g -a status-left "#T "
set -g -a status-left "#[fg=blue,bg=black]ÓÇ∞#[fg=brightblack] "

set -g @batt_attached_icon " üîå "
set -g @batt_discharging_icon " ÔâÅ "

set -g status-right-length 60
set -g status-right-bg black
set -g status-right-fg brightwhite
set -g status-right "ÓÇ≤#[bg=brightwhite,fg=brightmagenta] #{battery_icon} #{battery_percentage} "

set -g @yank_selection 'primary'

set -g @prefix_highlight_bg red
set -g @prefix_highlight_fg brightwhite
set -g @prefix_highlight_output_prefix " Prefix "
set -g @prefix_highlight_output_suffix " #[bg=black]#[fg=red]ÓÇ∞"

set -g monitor-activity on
set -g visual-activity off

set -g @plugin "tmux-plugins/tpm"
set -g @plugin "tmux-plugins/tmux-yank"
set -g @plugin "tmux-plugins/tmux-copycat"
set -g @plugin "tmux-plugins/tmux-pain-control"
set -g @plugin "tmux-plugins/tmux-prefix-highlight"
set -g @plugin 'tmux-plugins/tmux-battery'

run-shell ~/.tmux/plugins/tpm/tpm

# Smart pane switching with awareness of Vim splits.
# See: https://github.com/christoomey/vim-tmux-navigator
is_vim="ps -o state= -o comm= -t '#{pane_tty}' \
    | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|n?vim?x?)(diff)?$'"
bind-key -n C-Left if-shell "$is_vim" "send-keys C-Left"  "select-pane -L"
bind-key -n C-Down if-shell "$is_vim" "send-keys C-Down"  "select-pane -D"
bind-key -n C-Up if-shell "$is_vim" "send-keys C-Up"  "select-pane -U"
bind-key -n C-Right if-shell "$is_vim" "send-keys C-Right"  "select-pane -R"
bind-key -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"

# vim:ft=tmux:

